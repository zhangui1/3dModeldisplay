# ğŸ“¸ å®å¡”é¢æ¿æ“ä½œæ­¥éª¤è¯¦è§£ï¼ˆå›¾æ–‡ç‰ˆï¼‰

> æœ¬æ–‡æ¡£æä¾›è¯¦ç»†çš„ç‚¹å‡»è·¯å¾„å’Œæ“ä½œè¯´æ˜ï¼Œé€‚åˆé¦–æ¬¡ä½¿ç”¨å®å¡”é¢æ¿çš„ç”¨æˆ·

---

## ç¬¬ä¸€éƒ¨åˆ†ï¼šç¯å¢ƒå‡†å¤‡ï¼ˆ10åˆ†é’Ÿï¼‰

### æ­¥éª¤ 1-1ï¼šç™»å½•å®å¡”é¢æ¿

1. æ‰“å¼€æµè§ˆå™¨
2. è¾“å…¥åœ°å€ï¼š`http://ä½ çš„æœåŠ¡å™¨IP:8888`
   - ä¾‹å¦‚ï¼š`http://123.45.67.89:8888`
3. è¾“å…¥ç”¨æˆ·åå’Œå¯†ç 
4. ç‚¹å‡» "ç™»å½•" æŒ‰é’®

ğŸ’¡ **æç¤º**ï¼šå¦‚æœå¿˜è®°å¯†ç ï¼ŒSSH ç™»å½•æœåŠ¡å™¨åæ‰§è¡Œ `bt default` æŸ¥çœ‹

---

### æ­¥éª¤ 1-2ï¼šå®‰è£… Nginx

1. çœ‹åˆ°å®å¡”é¢æ¿é¦–é¡µåï¼Œå·¦ä¾§èœå•æ‰¾åˆ° **"è½¯ä»¶å•†åº—"**
2. ç‚¹å‡» "è½¯ä»¶å•†åº—"
3. åœ¨é¡¶éƒ¨æœç´¢æ¡†è¾“å…¥ï¼š`nginx`
4. æ‰¾åˆ° "Nginx 1.20" æˆ–æ›´é«˜ç‰ˆæœ¬
5. ç‚¹å‡»å³ä¾§ **"å®‰è£…"** æŒ‰é’®
6. åœ¨å¼¹å‡ºçª—å£ä¸­é€‰æ‹© "æé€Ÿå®‰è£…"
7. ç­‰å¾…å®‰è£…å®Œæˆï¼ˆçº¦ 2-5 åˆ†é’Ÿï¼‰
8. å®‰è£…å®Œæˆåï¼ŒæŒ‰é’®ä¼šå˜æˆ "è®¾ç½®"

---

### æ­¥éª¤ 1-3ï¼šå®‰è£… PM2 ç®¡ç†å™¨

1. ä»åœ¨ "è½¯ä»¶å•†åº—" é¡µé¢
2. åœ¨æœç´¢æ¡†è¾“å…¥ï¼š`PM2`
3. æ‰¾åˆ° "PM2 ç®¡ç†å™¨"
4. ç‚¹å‡» **"å®‰è£…"** æŒ‰é’®
5. ç­‰å¾…å®‰è£…å®Œæˆ

---

### æ­¥éª¤ 1-4ï¼šå®‰è£… Node.js

1. ä»åœ¨ "è½¯ä»¶å•†åº—" é¡µé¢
2. åœ¨æœç´¢æ¡†è¾“å…¥ï¼š`node`
3. æ‰¾åˆ° "Node ç‰ˆæœ¬ç®¡ç†å™¨"ï¼ˆæˆ– "Nodejs ç‰ˆæœ¬ç®¡ç†å™¨"ï¼‰
4. ç‚¹å‡» **"å®‰è£…"** æŒ‰é’®
5. å®‰è£…å®Œæˆåï¼Œç‚¹å‡» "è®¾ç½®"
6. åœ¨å¼¹å‡ºçª—å£ä¸­ï¼Œé€‰æ‹©å®‰è£… "v18.x" æˆ– "v20.x"
7. ç‚¹å‡» "å®‰è£…" å¹¶ç­‰å¾…å®Œæˆ

---

## ç¬¬äºŒéƒ¨åˆ†ï¼šä¸Šä¼ é¡¹ç›®æ–‡ä»¶ï¼ˆ5åˆ†é’Ÿï¼‰

### æ­¥éª¤ 2-1ï¼šè¿›å…¥æ–‡ä»¶ç®¡ç†å™¨

1. å·¦ä¾§èœå•ç‚¹å‡» **"æ–‡ä»¶"**
2. åœ¨æ–‡ä»¶åˆ—è¡¨ä¸­ï¼Œç‚¹å‡»è¿›å…¥ `/www/wwwroot/` ç›®å½•
   - ä½ ä¼šçœ‹åˆ°è·¯å¾„æ˜¾ç¤ºï¼š`/www/wwwroot`

---

### æ­¥éª¤ 2-2ï¼šä¸Šä¼ é¡¹ç›®å‹ç¼©åŒ…ï¼ˆæ–¹å¼ Aï¼‰

1. åœ¨æ–‡ä»¶ç®¡ç†å™¨é¡µé¢ï¼Œé¡¶éƒ¨æ‰¾åˆ° **"ä¸Šä¼ "** æŒ‰é’®
2. ç‚¹å‡» "ä¸Šä¼ "
3. åœ¨å¼¹å‡ºçª—å£ä¸­ï¼Œç‚¹å‡» "é€‰æ‹©æ–‡ä»¶"
4. é€‰æ‹©ä½ çš„é¡¹ç›®å‹ç¼©åŒ…ï¼ˆ`3dModeldisplay.zip` æˆ– `.tar.gz`ï¼‰
5. ç­‰å¾…ä¸Šä¼ å®Œæˆï¼ˆè¿›åº¦æ¡æ˜¾ç¤º 100%ï¼‰
6. ä¸Šä¼ å®Œæˆåï¼Œåœ¨æ–‡ä»¶åˆ—è¡¨ä¸­æ‰¾åˆ°å‹ç¼©åŒ…
7. **å³é”®ç‚¹å‡»** å‹ç¼©åŒ…æ–‡ä»¶
8. é€‰æ‹© **"è§£å‹"**
9. é€‰æ‹©è§£å‹åˆ°å½“å‰ç›®å½•
10. ç‚¹å‡» "ç¡®å®š"
11. ç­‰å¾…è§£å‹å®Œæˆ

---

### æ­¥éª¤ 2-3ï¼šä½¿ç”¨ Git å…‹éš†ï¼ˆæ–¹å¼ Bï¼Œæ¨èï¼‰

1. åœ¨æ–‡ä»¶ç®¡ç†å™¨é¡µé¢ï¼Œç¡®è®¤å½“å‰åœ¨ `/www/wwwroot/` ç›®å½•
2. é¡¶éƒ¨æ‰¾åˆ° **"ç»ˆç«¯"** æŒ‰é’®ï¼ˆå‘½ä»¤è¡Œå›¾æ ‡ï¼‰
3. ç‚¹å‡» "ç»ˆç«¯"
4. åœ¨å¼¹å‡ºçš„ç»ˆç«¯çª—å£ä¸­è¾“å…¥ï¼š
   ```bash
   git clone https://ä½ çš„ä»“åº“åœ°å€/3dModeldisplay.git
   ```
5. æŒ‰å›è½¦é”®æ‰§è¡Œ
6. ç­‰å¾…å…‹éš†å®Œæˆ

---

### æ­¥éª¤ 2-4ï¼šéªŒè¯é¡¹ç›®ç»“æ„

1. åœ¨æ–‡ä»¶åˆ—è¡¨ä¸­ï¼Œåº”è¯¥èƒ½çœ‹åˆ° `3dModeldisplay` æ–‡ä»¶å¤¹
2. ç‚¹å‡»è¿›å…¥è¯¥æ–‡ä»¶å¤¹
3. ç¡®è®¤åŒ…å«ä»¥ä¸‹æ–‡ä»¶å’Œç›®å½•ï¼š
   - âœ… `server.js` æ–‡ä»¶
   - âœ… `package.json` æ–‡ä»¶
   - âœ… `data/` æ–‡ä»¶å¤¹
   - âœ… `public/` æ–‡ä»¶å¤¹
   - âœ… `admin/` æ–‡ä»¶å¤¹

---

## ç¬¬ä¸‰éƒ¨åˆ†ï¼šå®‰è£…é¡¹ç›®ä¾èµ–ï¼ˆ3åˆ†é’Ÿï¼‰

### æ­¥éª¤ 3-1ï¼šæ‰“å¼€ç»ˆç«¯

1. åœ¨æ–‡ä»¶ç®¡ç†å™¨ä¸­ï¼Œç¡®è®¤å½“å‰åœ¨ `/www/wwwroot/3dModeldisplay/` ç›®å½•
2. ç‚¹å‡»é¡¶éƒ¨ **"ç»ˆç«¯"** æŒ‰é’®
3. ç»ˆç«¯çª—å£ä¼šæ‰“å¼€ï¼Œæ˜¾ç¤ºå½“å‰è·¯å¾„

---

### æ­¥éª¤ 3-2ï¼šå®‰è£…ä¾èµ–

åœ¨ç»ˆç«¯ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š

```bash
# ç¡®è®¤å½“å‰ä½ç½®
pwd
# åº”è¯¥æ˜¾ç¤ºï¼š/www/wwwroot/3dModeldisplay

# å®‰è£…ä¾èµ–
npm install
```

**å¦‚æœé€Ÿåº¦å¾ˆæ…¢**ï¼Œä½¿ç”¨å›½å†…é•œåƒï¼š
```bash
npm install --registry=https://registry.npmmirror.com
```

ç­‰å¾…å®‰è£…å®Œæˆï¼ˆå¯èƒ½éœ€è¦ 1-3 åˆ†é’Ÿï¼‰

---

### æ­¥éª¤ 3-3ï¼šéªŒè¯å®‰è£…

```bash
# æ£€æŸ¥æ˜¯å¦ç”Ÿæˆ node_modules æ–‡ä»¶å¤¹
ls -la

# åº”è¯¥èƒ½çœ‹åˆ°ï¼š
# drwxr-xr-x  ... node_modules
```

---

## ç¬¬å››éƒ¨åˆ†ï¼šåˆ›å»ºå’Œé…ç½®ç½‘ç«™ï¼ˆ10åˆ†é’Ÿï¼‰

### æ­¥éª¤ 4-1ï¼šæ·»åŠ ç«™ç‚¹

1. å·¦ä¾§èœå•ç‚¹å‡» **"ç½‘ç«™"**
2. å³ä¸Šè§’ç‚¹å‡» **"æ·»åŠ ç«™ç‚¹"** æŒ‰é’®
3. åœ¨å¼¹å‡ºçª—å£ä¸­å¡«å†™ï¼š

**è¡¨å•å¡«å†™è¯´æ˜ï¼š**

| å­—æ®µ | å¡«å†™å†…å®¹ | è¯´æ˜ |
|-----|---------|------|
| **åŸŸå** | `123.45.67.89` æˆ– `example.com` | å¡«ä½ çš„æœåŠ¡å™¨ IP æˆ–åŸŸå |
| **å¤‡æ³¨** | `3Dæ¨¡å‹å±•ç¤ºå¹³å°` | éšä¾¿å¡«ï¼Œæ–¹ä¾¿è¯†åˆ« |
| **æ ¹ç›®å½•** | `/www/wwwroot/3dModeldisplay/public` | é‡è¦ï¼å¿…é¡»æ˜¯ public ç›®å½• |
| **FTP** | ä¸åˆ›å»º | ä¸å‹¾é€‰ |
| **æ•°æ®åº“** | ä¸åˆ›å»º | ä¸å‹¾é€‰ |
| **PHPç‰ˆæœ¬** | çº¯é™æ€ | é€‰æ‹© "çº¯é™æ€" |

4. ç‚¹å‡» **"æäº¤"** æŒ‰é’®
5. ç­‰å¾…åˆ›å»ºå®Œæˆï¼ˆçº¦ 3 ç§’ï¼‰

---

### æ­¥éª¤ 4-2ï¼šè¿›å…¥ç½‘ç«™è®¾ç½®

1. åœ¨ç½‘ç«™åˆ—è¡¨ä¸­ï¼Œæ‰¾åˆ°åˆšåˆšåˆ›å»ºçš„ç«™ç‚¹
2. æ‰¾åˆ°ç«™ç‚¹åç§°å³ä¾§çš„ **"è®¾ç½®"** æŒ‰é’®ï¼ˆé½¿è½®å›¾æ ‡ï¼‰
3. ç‚¹å‡» "è®¾ç½®"
4. ä¼šæ‰“å¼€ä¸€ä¸ªæ–°é¡µé¢ï¼Œæ˜¾ç¤ºç½‘ç«™é…ç½®é€‰é¡¹

---

### æ­¥éª¤ 4-3ï¼šä¿®æ”¹ Nginx é…ç½®ï¼ˆé‡è¦ï¼ï¼‰

1. åœ¨ç½‘ç«™è®¾ç½®é¡µé¢ï¼Œå·¦ä¾§èœå•æ‰¾åˆ° **"é…ç½®æ–‡ä»¶"** æ ‡ç­¾
2. ç‚¹å‡» "é…ç½®æ–‡ä»¶"
3. ä¼šçœ‹åˆ°ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œé‡Œé¢æœ‰é»˜è®¤é…ç½®
4. **å…¨é€‰æ‰€æœ‰å†…å®¹**ï¼ˆCtrl+Aï¼‰
5. **åˆ é™¤**ï¼ˆDelete é”®ï¼‰
6. **ç²˜è´´**ä»¥ä¸‹å®Œæ•´é…ç½®ï¼š

```nginx
server {
    listen 80;
    listen [::]:80;
    
    # âš ï¸ é‡è¦ï¼ä¿®æ”¹ä¸ºä½ çš„å®é™… IP æˆ–åŸŸå
    server_name 123.45.67.89;
    
    # æ—¥å¿—æ–‡ä»¶
    access_log /www/wwwroot/3dModeldisplay/logs/access.log;
    error_log /www/wwwroot/3dModeldisplay/logs/error.log;
    
    # æ–‡ä»¶ä¸Šä¼ å¤§å°é™åˆ¶
    client_max_body_size 500M;
    client_body_timeout 600s;
    client_header_timeout 600s;
    send_timeout 600s;
    client_body_buffer_size 128k;
    
    # ========== æ¨¡å‹æ–‡ä»¶æœåŠ¡ï¼ˆå…³é”®é…ç½®ï¼‰==========
    location /models/ {
        alias /www/wwwroot/3dModeldisplay/public/models/;
        
        # ä¸‰ä¸ªæ ¸å¿ƒé…ç½®ï¼ˆè§£å†³ PLY åŠ è½½é—®é¢˜ï¼‰
        add_header Accept-Ranges bytes always;
        add_header Access-Control-Allow-Origin * always;
        add_header Access-Control-Expose-Headers "Accept-Ranges, Content-Length, Content-Range, Content-Type" always;
        
        # OPTIONS é¢„æ£€è¯·æ±‚
        if ($request_method = 'OPTIONS') {
            add_header Access-Control-Allow-Origin * always;
            add_header Access-Control-Allow-Methods "GET, HEAD, OPTIONS" always;
            add_header Access-Control-Allow-Headers "Range, Content-Type, Accept, Origin" always;
            add_header Access-Control-Max-Age 1728000;
            add_header Content-Type 'text/plain; charset=utf-8';
            add_header Content-Length 0;
            return 204;
        }
        
        # MIME ç±»å‹é…ç½®
        types {
            application/octet-stream    ply;
            model/obj                   obj;
            application/octet-stream    stl;
            model/gltf-binary          glb;
            model/gltf+json            gltf;
        }
        default_type application/octet-stream;
        
        gzip off;
        expires 30d;
        add_header Cache-Control "public, immutable" always;
        sendfile on;
        tcp_nopush on;
        tcp_nodelay on;
    }
    
    # ========== ç¼©ç•¥å›¾æœåŠ¡ ==========
    location /images/ {
        alias /www/wwwroot/3dModeldisplay/public/images/;
        add_header Access-Control-Allow-Origin * always;
        expires 30d;
        add_header Cache-Control "public" always;
        gzip on;
        gzip_types image/svg+xml;
    }
    
    # ========== CSS/JS èµ„æº ==========
    location /css/ {
        alias /www/wwwroot/3dModeldisplay/public/css/;
        expires 7d;
        add_header Cache-Control "public" always;
        gzip on;
    }
    
    location /js/ {
        alias /www/wwwroot/3dModeldisplay/public/js/;
        expires 7d;
        add_header Cache-Control "public" always;
        gzip on;
        gzip_types application/javascript text/javascript;
    }
    
    # ========== ç®¡ç†åå° ==========
    location /admin/ {
        proxy_pass http://127.0.0.1:3000/admin/;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_connect_timeout 600s;
        proxy_send_timeout 600s;
        proxy_read_timeout 600s;
        proxy_request_buffering off;
    }
    
    # ========== API è·¯ç”± ==========
    location /api/ {
        proxy_pass http://127.0.0.1:3000/api/;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_connect_timeout 600s;
        proxy_send_timeout 600s;
        proxy_read_timeout 600s;
        proxy_request_buffering off;
    }
    
    # ========== é»˜è®¤è·¯ç”± ==========
    location / {
        proxy_pass http://127.0.0.1:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header Range $http_range;
        proxy_set_header If-Range $http_if_range;
        proxy_buffering off;
        proxy_request_buffering off;
        proxy_no_cache $http_range $http_if_range;
        proxy_cache_bypass $http_upgrade;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        proxy_read_timeout 300s;
    }
}
```

7. **é‡è¦ï¼** æ‰¾åˆ°ç¬¬ 6 è¡Œ `server_name 123.45.67.89;`
8. å°† `123.45.67.89` æ”¹ä¸ºä½ çš„å®é™…æœåŠ¡å™¨ IP æˆ–åŸŸå
9. ç‚¹å‡»å³ä¸Šè§’ **"ä¿å­˜"** æŒ‰é’®
10. çœ‹åˆ° "ä¿å­˜æˆåŠŸ" æç¤º

---

### æ­¥éª¤ 4-4ï¼šåˆ›å»ºæ—¥å¿—ç›®å½•

1. å·¦ä¾§èœå•ç‚¹å‡» **"æ–‡ä»¶"**
2. è¿›å…¥ `/www/wwwroot/3dModeldisplay/` ç›®å½•
3. ç‚¹å‡»é¡¶éƒ¨ **"æ–°å»ºç›®å½•"** æŒ‰é’®
4. è¾“å…¥ç›®å½•åï¼š`logs`
5. ç‚¹å‡» "ç¡®å®š"

æˆ–ä½¿ç”¨ç»ˆç«¯å‘½ä»¤ï¼š
```bash
cd /www/wwwroot/3dModeldisplay
mkdir logs
```

---

### æ­¥éª¤ 4-5ï¼šè®¾ç½®ç›®å½•æƒé™

1. åœ¨æ–‡ä»¶ç®¡ç†å™¨ä¸­ï¼Œæ‰¾åˆ° `3dModeldisplay` æ–‡ä»¶å¤¹
2. **å³é”®ç‚¹å‡»** è¯¥æ–‡ä»¶å¤¹
3. é€‰æ‹© **"æƒé™"**
4. åœ¨å¼¹å‡ºçª—å£ä¸­ï¼š
   - è®¾ç½®æƒé™ä¸ºï¼š`755`
   - **å‹¾é€‰** "åº”ç”¨åˆ°å­ç›®å½•"
5. ç‚¹å‡» "ç¡®å®š"

---

## ç¬¬äº”éƒ¨åˆ†ï¼šå¯åŠ¨ Node.js åº”ç”¨ï¼ˆ5åˆ†é’Ÿï¼‰

### æ­¥éª¤ 5-1ï¼šæ‰“å¼€ PM2 ç®¡ç†å™¨

1. å·¦ä¾§èœå•ç‚¹å‡» **"è½¯ä»¶å•†åº—"**
2. åœ¨å·²å®‰è£…è½¯ä»¶åˆ—è¡¨ä¸­æ‰¾åˆ° **"PM2 ç®¡ç†å™¨"**
3. ç‚¹å‡»å³ä¾§ **"è®¾ç½®"** æŒ‰é’®
4. ä¼šæ‰“å¼€ PM2 ç®¡ç†å™¨é¡µé¢

---

### æ­¥éª¤ 5-2ï¼šæ·»åŠ é¡¹ç›®

1. åœ¨ PM2 ç®¡ç†å™¨é¡µé¢ï¼Œç‚¹å‡» **"æ·»åŠ é¡¹ç›®"** æŒ‰é’®
2. åœ¨å¼¹å‡ºçª—å£ä¸­å¡«å†™ï¼š

| å­—æ®µ | å¡«å†™å†…å®¹ |
|-----|---------|
| **é¡¹ç›®åç§°** | `3d-model-display` |
| **å¯åŠ¨æ–‡ä»¶åç§°** | ç‚¹å‡»"é€‰æ‹©æ–‡ä»¶"ï¼Œæ‰¾åˆ° `/www/wwwroot/3dModeldisplay/server.js` |
| **é¡¹ç›®è·¯å¾„** | `/www/wwwroot/3dModeldisplay` |
| **å¯åŠ¨æ¨¡å¼** | `cluster`ï¼ˆé»˜è®¤ï¼‰ |
| **é¡¹ç›®ç«¯å£** | `3000` |

3. ç‚¹å‡» **"æäº¤"** æŒ‰é’®
4. ç­‰å¾…å¯åŠ¨å®Œæˆï¼ˆçº¦ 3 ç§’ï¼‰
5. åœ¨é¡¹ç›®åˆ—è¡¨ä¸­ï¼Œåº”è¯¥èƒ½çœ‹åˆ°ï¼š
   - é¡¹ç›®åï¼š`3d-model-display`
   - çŠ¶æ€ï¼šç»¿è‰² `online`ï¼ˆåœ¨çº¿ï¼‰

---

### æ­¥éª¤ 5-3ï¼šè®¾ç½®å¼€æœºè‡ªå¯

1. åœ¨ PM2 é¡¹ç›®åˆ—è¡¨ä¸­ï¼Œæ‰¾åˆ° `3d-model-display`
2. ç‚¹å‡»å³ä¾§ **"æ˜ å°„"** æŒ‰é’®æ—è¾¹çš„ **ä¸‹æ‹‰èœå•**
3. é€‰æ‹© **"ä¿å­˜é…ç½®"**
4. è¿™æ ·æœåŠ¡å™¨é‡å¯åä¼šè‡ªåŠ¨å¯åŠ¨åº”ç”¨

---

## ç¬¬å…­éƒ¨åˆ†ï¼šæµ‹è¯•éªŒè¯ï¼ˆ10åˆ†é’Ÿï¼‰

### æ­¥éª¤ 6-1ï¼šæµ‹è¯•åŸºæœ¬è®¿é—®

1. æ‰“å¼€æµè§ˆå™¨
2. è¾“å…¥ï¼š`http://ä½ çš„æœåŠ¡å™¨IP/`
   - ä¾‹å¦‚ï¼š`http://123.45.67.89/`
3. **æœŸæœ›ç»“æœ**ï¼šèƒ½çœ‹åˆ° 3D æ¨¡å‹å±•ç¤ºé¡µé¢

å¦‚æœçœ‹åˆ° 502 é”™è¯¯ï¼š
- æ£€æŸ¥ PM2 ä¸­åº”ç”¨çŠ¶æ€æ˜¯å¦ä¸º `online`
- å¦‚æœä¸æ˜¯ï¼Œç‚¹å‡» "é‡å¯" æŒ‰é’®

---

### æ­¥éª¤ 6-2ï¼šæµ‹è¯•ç®¡ç†åå°

1. æµè§ˆå™¨è¾“å…¥ï¼š`http://ä½ çš„æœåŠ¡å™¨IP/admin/index.html`
2. **æœŸæœ›ç»“æœ**ï¼šèƒ½çœ‹åˆ°æ¨¡å‹ç®¡ç†é¡µé¢
3. å°è¯•ç‚¹å‡» "ä¸Šä¼ æ¨¡å‹" æŒ‰é’®ï¼Œçœ‹å¼¹çª—æ˜¯å¦æ­£å¸¸

---

### æ­¥éª¤ 6-3ï¼šæµ‹è¯• Range è¯·æ±‚ï¼ˆå…³é”®ï¼ï¼‰

**æ–¹æ³• Aï¼šä½¿ç”¨ç»ˆç«¯æµ‹è¯•**

1. å®å¡”é¢æ¿ â†’ æ–‡ä»¶ â†’ ç»ˆç«¯
2. æ‰§è¡Œå‘½ä»¤ï¼š

```bash
# å…ˆæŸ¥çœ‹æœ‰å“ªäº›æ¨¡å‹æ–‡ä»¶
ls /www/wwwroot/3dModeldisplay/public/models/

# é€‰æ‹©ä¸€ä¸ª .ply æ–‡ä»¶ï¼Œå¤åˆ¶æ–‡ä»¶å
# æ‰§è¡Œæµ‹è¯•ï¼ˆæ›¿æ¢æ–‡ä»¶åï¼‰
curl -I -H "Range: bytes=0-1023" http://127.0.0.1/models/æ–‡ä»¶å.ply
```

3. **æœŸæœ›çœ‹åˆ°**ï¼š
```
HTTP/1.1 206 Partial Content
Accept-Ranges: bytes
Content-Range: bytes 0-1023/æ€»å¤§å°
Access-Control-Allow-Origin: *
```

4. **é”™è¯¯æƒ…å†µ**ï¼š
   - å¦‚æœçœ‹åˆ° `HTTP/1.1 200 OK` â†’ Range è¯·æ±‚æœªç”Ÿæ•ˆ
   - å¦‚æœçœ‹åˆ° `404 Not Found` â†’ æ–‡ä»¶è·¯å¾„é”™è¯¯

---

**æ–¹æ³• Bï¼šä½¿ç”¨æµè§ˆå™¨æµ‹è¯•**

1. è®¿é—®æ¨¡å‹å±•ç¤ºé¡µé¢
2. æŒ‰ `F12` é”®æ‰“å¼€å¼€å‘è€…å·¥å…·
3. åˆ‡æ¢åˆ° **Networkï¼ˆç½‘ç»œï¼‰** æ ‡ç­¾é¡µ
4. ç‚¹å‡»åŠ è½½ä¸€ä¸ª PLY æ¨¡å‹
5. åœ¨ç½‘ç»œåˆ—è¡¨ä¸­æ‰¾åˆ° `.ply` æ–‡ä»¶çš„è¯·æ±‚
6. ç‚¹å‡»è¯¥è¯·æ±‚ï¼ŒæŸ¥çœ‹è¯¦ç»†ä¿¡æ¯

**æ£€æŸ¥ç‚¹ï¼š**
- **Status Codeï¼ˆçŠ¶æ€ç ï¼‰**ï¼šåº”è¯¥æ˜¯ `206 Partial Content`ï¼ˆä¸æ˜¯ 200ï¼‰
- **Response Headersï¼ˆå“åº”å¤´ï¼‰**ï¼š
  - `Accept-Ranges: bytes` âœ…
  - `Content-Range: bytes 0-xxxxx/æ€»å¤§å°` âœ…
  - `Access-Control-Allow-Origin: *` âœ…
- **Request Headersï¼ˆè¯·æ±‚å¤´ï¼‰**ï¼š
  - `Range: bytes=0-xxxxx` âœ…

---

### æ­¥éª¤ 6-4ï¼šæµ‹è¯•æ¨¡å‹åŠ è½½

1. è®¿é—®å±•ç¤ºé¡µé¢
2. ç‚¹å‡»ä¸€ä¸ª PLY æ ¼å¼çš„æ¨¡å‹
3. è§‚å¯Ÿé¡µé¢å·¦ä¸‹è§’çš„åŠ è½½è¿›åº¦ï¼š
   - âœ… **æ­£ç¡®**ï¼š`åŠ è½½ä¸­: 0%` â†’ `10%` â†’ `50%` â†’ `100%`ï¼Œç„¶åæ˜¾ç¤ºæ¨¡å‹
   - âŒ **é”™è¯¯**ï¼šå¡åœ¨ `åŠ è½½ä¸­: 0%` ä¸åŠ¨ï¼Œæ§åˆ¶å°æŠ¥é”™

---

## ç¬¬ä¸ƒéƒ¨åˆ†ï¼šé—®é¢˜æ’æŸ¥

### é—®é¢˜ 1ï¼š502 Bad Gateway

**æ’æŸ¥æ­¥éª¤ï¼š**
1. PM2 ç®¡ç†å™¨ â†’ æ£€æŸ¥åº”ç”¨çŠ¶æ€
2. å¦‚æœæ˜¯ `stopped`ï¼Œç‚¹å‡» "å¯åŠ¨"
3. å¦‚æœå¯åŠ¨å¤±è´¥ï¼Œç‚¹å‡» "æ—¥å¿—" æŸ¥çœ‹é”™è¯¯ä¿¡æ¯

---

### é—®é¢˜ 2ï¼š403 Forbidden

**æ’æŸ¥æ­¥éª¤ï¼š**
1. æ–‡ä»¶ â†’ è¿›å…¥é¡¹ç›®ç›®å½•
2. å³é”® `3dModeldisplay` â†’ æƒé™
3. è®¾ç½®ä¸º `755`ï¼Œåº”ç”¨åˆ°å­ç›®å½•

---

### é—®é¢˜ 3ï¼šæ¨¡å‹åŠ è½½å¡ 0%

**æ’æŸ¥æ­¥éª¤ï¼š**
1. æµè§ˆå™¨ F12 â†’ Console â†’ æŸ¥çœ‹æŠ¥é”™
2. å¦‚æœæç¤º `progressive loading` é”™è¯¯ï¼š
   - ç½‘ç«™è®¾ç½® â†’ é…ç½®æ–‡ä»¶
   - æ£€æŸ¥ `/models/` location ä¸­æ˜¯å¦æœ‰ï¼š
     ```nginx
     add_header Accept-Ranges bytes always;
     ```
   - å¦‚æœæ²¡æœ‰ï¼Œæ·»åŠ åä¿å­˜
3. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼ˆCtrl+Shift+Deleteï¼‰
4. åˆ·æ–°é¡µé¢ï¼ˆCtrl+F5ï¼‰

---

### é—®é¢˜ 4ï¼šæŸ¥çœ‹æ—¥å¿—

**PM2 æ—¥å¿—ï¼š**
- è½¯ä»¶å•†åº— â†’ PM2 ç®¡ç†å™¨ â†’ è®¾ç½®
- æ‰¾åˆ°ä½ çš„é¡¹ç›® â†’ ç‚¹å‡» "æ—¥å¿—"

**Nginx æ—¥å¿—ï¼š**
- ç½‘ç«™ â†’ æ‰¾åˆ°ä½ çš„ç«™ç‚¹ â†’ æ—¥å¿—
- æŸ¥çœ‹é”™è¯¯æ—¥å¿—

---

## âœ… å®Œæˆæ£€æŸ¥æ¸…å•

å®Œæˆä»¥ä¸Šæ‰€æœ‰æ­¥éª¤åï¼Œå‹¾é€‰ä»¥ä¸‹é¡¹ç›®ï¼š

- [ ] Nginx å·²å®‰è£…å¹¶è¿è¡Œ
- [ ] PM2 å·²å®‰è£…
- [ ] Node.js å·²å®‰è£…
- [ ] é¡¹ç›®æ–‡ä»¶å·²ä¸Šä¼ åˆ° `/www/wwwroot/3dModeldisplay/`
- [ ] npm ä¾èµ–å·²å®‰è£…ï¼ˆæœ‰ node_modules æ–‡ä»¶å¤¹ï¼‰
- [ ] ç½‘ç«™å·²åˆ›å»º
- [ ] Nginx é…ç½®å·²ä¿®æ”¹å¹¶ä¿å­˜
- [ ] `server_name` å·²æ”¹ä¸ºå®é™… IP/åŸŸå
- [ ] `logs` ç›®å½•å·²åˆ›å»º
- [ ] ç›®å½•æƒé™è®¾ç½®ä¸º 755
- [ ] PM2 å·²å¯åŠ¨åº”ç”¨ï¼ŒçŠ¶æ€ä¸º `online`
- [ ] å¯ä»¥è®¿é—®é¦–é¡µï¼ˆhttp://IP/ï¼‰
- [ ] å¯ä»¥è®¿é—®ç®¡ç†åå°ï¼ˆhttp://IP/admin/index.htmlï¼‰
- [ ] curl æµ‹è¯•è¿”å› `206 Partial Content`
- [ ] æµè§ˆå™¨ Network æ˜¾ç¤ºçŠ¶æ€ç  206
- [ ] PLY æ¨¡å‹åŠ è½½è¿›åº¦ä» 0% â†’ 100%
- [ ] æ¨¡å‹èƒ½å¤Ÿæ­£å¸¸æ˜¾ç¤º

---

**å…¨éƒ¨å‹¾é€‰åï¼Œæ­å–œä½ éƒ¨ç½²æˆåŠŸï¼** ğŸ‰

å¦‚æœ‰é—®é¢˜ï¼ŒæŸ¥çœ‹ã€Šå®å¡”é…ç½®é€ŸæŸ¥è¡¨.mdã€‹è·å–å¿«é€Ÿå¸®åŠ©ã€‚

